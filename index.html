<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Phaser Workshop - lesson 01: Initialize the framework</title>
    <style>* { padding: 0; margin: 0; }</style>
    <script src="js/phaser.min.js"></script>
</head>
<body>
<script>
    var game = new Phaser.Game(480, 320, Phaser.AUTO, null,  {preload: preload, create: create, update: update});

    var rocket;
    var xspeed=0;
    var yspeed=0;
    
    function preload() {
        game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
        game.scale.pageAlignHorizontally = true;
        game.scale.pageAlignVertically = true;
        game.stage.backgroundColor = '#eee';
        game.load.image('rocket', 'img/a4.png');
    }
    function create() {
        rocket = game.add.sprite(game.world.centerX, game.world.centerY, 'rocket');
        rocket.anchor.setTo(0.5, 0.5);
        rocket.scale.x = 0.5;
        rocket.scale.y = 0.5;
        rocket.angle=90;
    }
    function update() {
        if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {
            rocket.angle += 1;
        }
        else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {
            rocket.angle -= 1;
        }

        if (game.input.keyboard.isDown(Phaser.Keyboard.UP)) {
            yspeed = Math.sin((rocket.angle*(-1))+90);
            xspeed = Math.cos((rocket.angle*(-1))+90);
        }
        //else if (game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {
        //    rocket.y += 4;
        //}
        rocket.y += yspeed;
        rocket.x += xspeed;
    }
</script>
</body>
</html>
